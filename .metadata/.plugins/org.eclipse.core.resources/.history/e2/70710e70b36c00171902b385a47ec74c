package pages;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.support.ui.ExpectedConditions;
import org.openqa.selenium.support.ui.Select;
import org.openqa.selenium.support.ui.WebDriverWait;
import org.testng.annotations.Test;

public class Quickbook_pages {

	static WebDriver driver;

	static By quickBookButton = By
			.xpath(".//*[@id='content']/div[1]/div[1]/button");

	// ----------------Apply Tax------------------
	static By applyTax = By.name("applytax");

	// ------------Service-------------------------
	static By service = By.name("service");

	// -------------Next Button--------------------
	static By nextButton = By.xpath(".//*[@id='quickbook']//div//button[2]");
	
	//---------------Customer Type-----------------
	
	static By customerType=By.id("selusertype");
	
	
	//--------------- CustomerName-------------------
	static By customerName = By.xpath(".//*[@id='regcust']/div/select");
	
	
		
	
    //constructor 
	public Quickbook_pages(WebDriver driver) {

		this.driver = driver;
	}

	public static void quickBookButtonClick() {
		// Anonymous class
		new WebDriverWait(driver, 20).until(ExpectedConditions
				.elementToBeClickable(quickBookButton));

		driver.findElement(quickBookButton).click();

	}

	public static void applyTax() {
		Select taxoption = new Select(driver.findElement(applyTax));
		System.out.println(taxoption.isMultiple());
		taxoption.selectByVisibleText("Yes");

	}

	public static void service() {
		new WebDriverWait(driver, 10).until(ExpectedConditions
				.visibilityOf(driver.findElement(service)));
		Select serviceOpt = new Select(driver.findElement(service));
		serviceOpt.selectByIndex(1);

	}

	public static void nextButtonClick() {
		driver.findElement(nextButton).click();

	}

	
	public static void customerType()
	{
		new WebDriverWait(driver,10).until(ExpectedConditions
				.visibilityOf(driver.findElement(customerType)));
		Select customer = new Select(driver.findElement(customerType));
        customer.selectByVisibleText("Registered");	
		//customer.selectByValue("John Smith - user@phptravels.com");
        System.out.println("CustomerType selectd");
	}
	
	
	public static void customerName()
	{
		
		driver.findElement(customerName);
		 Select CustName = new Select(driver.findElement(customerName));
         CustName.selectByValue("14");
	}
	
	
	
	
	// Quick Booking aggreagate function
	@Test
	public static void quickBook_Aggregate() {

		Quickbook_pages.quickBookButtonClick();
		Quickbook_pages.applyTax();
		Quickbook_pages.service();
		Quickbook_pages.nextButtonClick();
		Quickbook_pages.customerType();
		Quickbook_pages.customerName();
	}

}
